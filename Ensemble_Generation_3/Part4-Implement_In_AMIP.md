# Implementing the ensembling in the AMIP Suite

To implement the ensemble changes into the AMIP suite (which uses UM vn11.1 currently), first a set of dummy variables are needed in the vn11.1 source code. The set of code changes are generated by the python script [acure-codechanges.py](acure-codechanges.py), which generates 3 files, one each for the update module, the meta data conf file and the ukca_option_mod.F90 file, containing the necessary code changes for each of these files along with barebones instructions on where to paste the blocks of code in their respective files. The variable names are provided by a list in [acure.txt](acure.txt). A more detailed description of how to make namelist additions to a branch of the UM can be found [here](http://www.ukca.ac.uk/wiki/index.php/UKCA_Chemistry_and_Aerosol_vn10.9_Tutorial_11)

The changes made to the rose-meta.conf and rose-suite.conf files described in the previous section [here](../Part3-Extend_to_dataframe.md) were copied over into the AMIP versions of these files, as was the changes to the suite.rc file allowing non-sequential ensemble numbers and dataframes to be used.

Work still pending includes:
* Ensuring that running in non-ensemble mode allows the parameter values to be picked up from the GUI
* Checking to see if post processing can work with ensembling - this is of vital importance
* Testing with the AMIP suite
